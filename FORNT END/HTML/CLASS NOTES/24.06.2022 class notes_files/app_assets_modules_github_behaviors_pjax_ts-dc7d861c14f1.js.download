"use strict";(()=>{var me=Object.defineProperty;var o=(j,b)=>me(j,"name",{value:b,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_behaviors_pjax_ts"],{41307:(j,b,d)=>{d.d(b,{ZP:()=>M,y0:()=>le});var f=d(6170),s=d(54293),l=d(61161),m=d(49815),S=d(12981),y=d(45922);const u=20;let t,g=null;function c(i,r,e){return i.dispatchEvent(new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:e}))}o(c,"dispatch");async function M(i){var r,e,n,p;const a={push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,...i};a.requestUrl=a.url;const _=U(a.url).hash,E=a.container,T=N(E);t||(t={id:L(),url:window.location.href,title:document.title,container:T,fragment:a.fragment},(0,f.lO)(t,t.title,t.url)),g==null||g.abort();const{signal:w}=g=new AbortController;a.push===!0&&a.replace!==!0&&(ie(t.id,C(E)),(0,f.qA)(null,"",a.requestUrl)),c(E,"pjax:start",{url:a.url}),c(E,"pjax:send");let x;const v=ce();try{x=await fetch(a.url,{signal:w,method:a.type,body:a.data,headers:{Accept:"text/html","X-PJAX":"true","X-PJAX-Container":T,"X-Requested-With":"XMLHttpRequest","X-PJAX-VERSION":(r=v.pjax)!=null?r:"","X-PJAX-CSP-VERSION":(e=v.csp)!=null?e:"","X-PJAX-CSS-VERSION":(n=v.css)!=null?n:"","X-PJAX-JS-VERSION":(p=v.js)!=null?p:""}})}catch{x=void 0}if(!x||!x.ok){const D=c(E,"pjax:error");if(a.type==="GET"&&D){const Q=x&&x.headers.get("X-PJAX-URL"),fe=Q?U(Q).href:a.requestUrl;(0,y.b)({pjaxFailureReason:"response_error",requestUrl:a.requestUrl}),X(fe)}c(E,"pjax:complete"),c(E,"pjax:end");return}const K=t,ee=se(),te=x.headers.get("X-PJAX-Version"),ue=await x.text(),A=Y(ue,x,a),{contents:$}=A,ne=U(A.url);if(_&&(ne.hash=_,A.url=ne.href),ee&&te&&ee!==te){c(E,"pjax:hardLoad",{reason:"version_mismatch"}),(0,y.b)({pjaxFailureReason:"version_mismatch",requestUrl:a.requestUrl}),X(A.url);return}if(!$){c(E,"pjax:hardLoad",{reason:"missing_response_body"}),(0,y.b)({pjaxFailureReason:"missing_response_body",requestUrl:a.requestUrl}),X(A.url);return}t={id:a.id!=null?a.id:L(),url:A.url,title:A.title,container:T,fragment:a.fragment},(a.push===!0||a.replace===!0)&&(0,f.lO)(t,A.title,A.url);const z=document.activeElement,de=a.container!=null&&a.container.contains(z);if(z instanceof HTMLElement&&de)try{z.blur()}catch{}A.title&&(document.title=A.title),c(E,"pjax:beforeReplace",{contents:$,state:t,previousState:K}),R(E,$),(0,s.b)(),(0,s.o)();const G=E.querySelector("input[autofocus], textarea[autofocus]");G&&document.activeElement!==G&&G.focus(),A.scripts&&oe(A.scripts),A.stylesheets&&re(A.stylesheets);let Z=a.scrollTo;if(_){const D=(0,l.Kt)(document,_);D&&(Z=D.getBoundingClientRect().top+window.pageYOffset)}typeof Z=="number"&&window.scrollTo(window.pageXOffset,Z),c(E,"pjax:success"),c(E,"pjax:complete"),c(E,"pjax:end")}o(M,"pjaxRequest");function X(i){t&&(0,f.lO)(null,"",t.url),window.location.replace(i)}o(X,"locationReplace");let q=!0;const k=window.location.href,h=window.history.state;h&&h.container&&(t=h),"state"in window.history&&(q=!1);function P(i){if((0,m.c)("TURBO"))return;q||g==null||g.abort();const r=t,e=i.state;let n=null;if(e&&e.container){if(q&&k===e.url)return;if(r){if(r.id===e.id)return;n=r.id<e.id?"forward":"back"}const[p,a,O]=B[e.id]||[],_=document.querySelector(p||e.container);if(_ instanceof HTMLElement){r&&ae(n,r.id,C(_)),c(_,"pjax:popstate",{state:e,direction:n,cachedAt:O});const E={id:e.id,url:e.url,container:_,push:!1,fragment:e.fragment||"",scrollTo:!1};a?(c(_,"pjax:start"),t=e,e.title&&(document.title=e.title),c(_,"pjax:beforeReplace",{contents:a,state:e,previousState:r}),R(_,a),(0,s.b)(),(0,s.o)(),c(_,"pjax:end")):M(E),_.offsetHeight}else(0,y.b)({pjaxFailureReason:"no_container",requestUrl:r==null?void 0:r.url}),X(location.href)}q=!1}o(P,"onPjaxPopstate");function L(){return new Date().getTime()}o(L,"uniqueId");function C(i){const r=i.cloneNode(!0);return[N(i),Array.from(r.childNodes),Date.now()]}o(C,"cloneContents");function U(i){const r=document.createElement("a");return r.href=i,r}o(U,"parseURL");function N(i){if(i.id)return`#${i.id}`;throw new Error("pjax container has no id")}o(N,"getContainerSelector");function I(i,r,e){let n=[];for(const p of i)p instanceof Element&&(p instanceof e&&p.matches(r)&&n.push(p),n=n.concat(Array.from(p.querySelectorAll(r))));return n}o(I,"findAll");function R(i,r){i.innerHTML="";for(const e of r)e!=null&&i.appendChild(e)}o(R,"replaceWithNodes");function V(i,r){const e=i.headers.get("X-PJAX-URL");return e?U(e).href:r}o(V,"resolveUrl");function Y(i,r,e){const n={url:V(r,e.requestUrl),title:""},p=/<html/i.test(i);if((r.headers.get("Content-Type")||"").split(";",1)[0].trim()!=="text/html")return n;let O,_;if(p){const w=i.match(/<head[^>]*>([\s\S.]*)<\/head>/i),x=i.match(/<body[^>]*>([\s\S.]*)<\/body>/i);O=w?Array.from((0,S.r)(document,w[0]).childNodes):[],_=x?Array.from((0,S.r)(document,x[0]).childNodes):[]}else O=_=Array.from((0,S.r)(document,i).childNodes);if(_.length===0)return n;const E=I(O,"title",HTMLTitleElement);n.title=E.length>0&&E[E.length-1].textContent||"";let T;if(e.fragment){if(e.fragment==="body")T=_;else{const w=I(_,e.fragment,Element);T=w.length>0?[w[0]]:[]}if(T.length&&(e.fragment==="body"?n.contents=T:n.contents=T.flatMap(w=>Array.from(w.childNodes)),!n.title)){const w=T[0];w instanceof Element&&(n.title=w.getAttribute("title")||w.getAttribute("data-title")||"")}}else p||(n.contents=_);if(n.contents){n.contents=n.contents.filter(function(v){return v instanceof Element?!v.matches("title"):!0});for(const v of n.contents)if(v instanceof Element)for(const K of v.querySelectorAll("title"))K.remove();const w=I(n.contents,"script[src]",HTMLScriptElement);for(const v of w)v.remove();n.scripts=w,n.contents=n.contents.filter(v=>w.indexOf(v)===-1);const x=I(n.contents,"link[rel=stylesheet]",HTMLLinkElement);for(const v of x)v.remove();n.stylesheets=x,n.contents=n.contents.filter(v=>!x.includes(v))}return n.title&&(n.title=n.title.trim()),n}o(Y,"extractContainer");function oe(i){const r=document.querySelectorAll("script[src]");for(const e of i){const{src:n}=e;if(Array.from(r).some(_=>_.src===n))continue;const p=document.createElement("script"),a=e.getAttribute("type");a&&(p.type=a);const O=e.getAttribute("integrity");O&&(p.integrity=O,p.crossOrigin="anonymous"),p.src=n,document.head&&document.head.appendChild(p)}}o(oe,"executeScriptTags");function re(i){const r=document.querySelectorAll("link[rel=stylesheet]");for(const e of i)Array.from(r).some(n=>n.href===e.href)||document.head&&document.head.appendChild(e)}o(re,"injectStyleTags");const B={},F=[],J=[];function ie(i,r){B[i]=r,J.push(i),W(F,0),W(J,u)}o(ie,"cachePush");function ae(i,r,e){let n,p;B[r]=e,i==="forward"?(n=J,p=F):(n=F,p=J),n.push(r);const a=p.pop();a&&delete B[a],W(n,u)}o(ae,"cachePop");function W(i,r){for(;i.length>r;){const e=i.shift();if(e==null)return;delete B[e]}}o(W,"trimCacheStack");function se(){for(const i of document.getElementsByTagName("meta")){const r=i.getAttribute("http-equiv");if(r&&r.toUpperCase()==="X-PJAX-VERSION")return i.content}return null}o(se,"findVersion");function H(i){var r;const e=document.querySelector(`meta[http-equiv="${i}"]`);return(r=e==null?void 0:e.content)!=null?r:null}o(H,"pjaxMeta");function ce(){return{pjax:H("X-PJAX-VERSION"),csp:H("X-PJAX-CSP-VERSION"),css:H("X-PJAX-CSS-VERSION"),js:H("X-PJAX-JS-VERSION")}}o(ce,"findAllVersions");function le(){return t}o(le,"getState"),window.addEventListener("popstate",P)},54293:(j,b,d)=>{d.d(b,{b:()=>m,o:()=>S});var f=d(7739);const s={},l={};(async()=>(await f.x,s[document.location.pathname]=Array.from(document.querySelectorAll("head [data-pjax-transient]")),l[document.location.pathname]=Array.from(document.querySelectorAll("[data-pjax-replace]"))))(),document.addEventListener("pjax:beforeReplace",function(y){const u=y.detail.contents||[],t=y.target;for(let g=0;g<u.length;g++){const c=u[g];c instanceof Element&&(c.id==="pjax-head"?(s[document.location.pathname]=Array.from(c.children),u[g]=null):c.hasAttribute("data-pjax-replace")&&(l[document.location.pathname]||(l[document.location.pathname]=[]),l[document.location.pathname].push(c),t.querySelector(`#${c.id}`)||(u[g]=null)))}});function m(){const y=l[document.location.pathname];if(!!y)for(const u of y){const t=document.querySelector(`#${u.id}`);t&&t.replaceWith(u)}}o(m,"replaceCachedElements");function S(){const y=s[document.location.pathname];if(!y)return;const u=document.head;for(const t of document.querySelectorAll("head [data-pjax-transient]"))t.remove();for(const t of y)t.matches("title, script, link[rel=stylesheet]")?t.matches("link[rel=stylesheet]")&&u.append(t):(t.setAttribute("data-pjax-transient",""),u.append(t))}o(S,"replaceTransientTags")},7739:(j,b,d)=>{d.d(b,{C:()=>s,x:()=>f});const f=function(){return document.readyState==="interactive"||document.readyState==="complete"?Promise.resolve():new Promise(l=>{document.addEventListener("DOMContentLoaded",()=>{l()})})}(),s=function(){return document.readyState==="complete"?Promise.resolve():new Promise(l=>{window.addEventListener("load",l)})}()},49815:(j,b,d)=>{d.d(b,{$:()=>y,c:()=>m});var f=d(15205);const s=(0,f.Z)(l);function l(){var u,t;return(((t=(u=document.head)==null?void 0:u.querySelector('meta[name="enabled-features"]'))==null?void 0:t.content)||"").split(",")}o(l,"enabledFeatures");const m=(0,f.Z)(S);function S(u){return s().indexOf(u)!==-1}o(S,"isEnabled");const y={isFeatureEnabled:m}},61161:(j,b,d)=>{d.d(b,{$z:()=>l,Kt:()=>f,Q:()=>s});function f(m,S=location.hash){return s(m,l(S))}o(f,"findFragmentTarget");function s(m,S){return S===""?null:m.getElementById(S)||m.getElementsByName(S)[0]}o(s,"findElementByFragmentName");function l(m){try{return decodeURIComponent(m.slice(1))}catch{return""}}o(l,"decodeFragmentValue")},6170:(j,b,d)=>{d.d(b,{Mw:()=>q,_C:()=>X,lO:()=>M,qA:()=>c,y0:()=>m});const f=[];let s=0,l;function m(){return l}o(m,"getState");function S(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch{return 0}}o(S,"safeGetHistory");function y(){const h={_id:new Date().getTime(),...history.state};return t(h),h}o(y,"initializeState");function u(){return S()-1+s}o(u,"position");function t(h){l=h;const P=location.href;f[u()]={url:P,state:l},f.length=S(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}o(t,"setState");function g(){return new Date().getTime()}o(g,"uniqueId");function c(h,P,L){s=0;const C={_id:g(),...h};history.pushState(C,P,L),t(C)}o(c,"pushState");function M(h,P,L){const C={...m(),...h};history.replaceState(C,P,L),t(C)}o(M,"replaceState");function X(){const h=f[u()-1];if(h)return h.url}o(X,"getBackURL");function q(){const h=f[u()+1];if(h)return h.url}o(q,"getForwardURL"),l=y(),window.addEventListener("popstate",o(function(P){var L,C,U,N,I;const R=P.state;if(!(!R||!R._id&&!((L=R.turbo)==null?void 0:L.restorationIdentifier))){if((C=R.turbo)==null?void 0:C.restorationIdentifier){const V=R.turbo.restorationIdentifier;((I=(N=(U=f[u()-1])==null?void 0:U.state)==null?void 0:N.turbo)==null?void 0:I.restorationIdentifier)===V?s--:s++}else R._id<(m()._id||NaN)?s--:s++;t(R)}},"onPopstate"),!0);let k;window.addEventListener("turbo:visit",h=>{h instanceof CustomEvent&&(k=h.detail.action)}),window.addEventListener("turbo:load",()=>{k!=="restore"&&(s=0,M(history.state,"",""))}),window.addEventListener("hashchange",o(function(){if(S()>f.length){const P={_id:g()};history.replaceState(P,"",location.href),t(P)}},"onHashchange"),!0)},12981:(j,b,d)=>{d.d(b,{r:()=>f});function f(s,l){const m=s.createElement("template");return m.innerHTML=l,s.importNode(m.content,!0)}o(f,"parseHTML")},45922:(j,b,d)=>{d.d(b,{b:()=>l});var f=d(7739);let s=[];function l(t,g=!1){t.timestamp===void 0&&(t.timestamp=new Date().getTime()),t.loggedIn=u(),s.push(t),g?y():S()}o(l,"sendStats");let m=null;async function S(){await f.C,m==null&&(m=window.requestIdleCallback(y))}o(S,"scheduleSendStats");function y(){var t,g;if(m=null,!s.length)return;const c=(g=(t=document.head)==null?void 0:t.querySelector('meta[name="browser-stats-url"]'))==null?void 0:g.content;if(!c)return;const M=JSON.stringify({stats:s});try{navigator.sendBeacon&&navigator.sendBeacon(c,M)}catch{}s=[]}o(y,"flushStats");function u(){var t,g;return!!((g=(t=document.head)==null?void 0:t.querySelector('meta[name="user-login"]'))==null?void 0:g.content)}o(u,"isLoggedIn"),document.addEventListener("pagehide",y),document.addEventListener("visibilitychange",y)}}]);})();

//# sourceMappingURL=app_assets_modules_github_behaviors_pjax_ts-b67bf8db14a2.js.map